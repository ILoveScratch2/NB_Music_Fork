<!DOCTYPE html>
<html class="dark" lang="zh-cn">
 <head>
  <meta charset="utf-8"/>
  <meta content="no-referrer" name="referrer"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
   <title>
    NB Music
   </title>
   <link href="./style.css" rel="stylesheet"/>
  </meta>
 </head>
 <body>
  <div class="flex-between titbar" style="filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 1));">
   <div style="display: flex;">
    <img class="icon" src="../icons/NB Music.png"/>
    <p>
     NB Music
    </p>
   </div>
   <div class="search">
    <input class="input search-music" placeholder="搜索音乐" type="text"/>
   </div>
   <div class="rounded-sm login-btn">
    <i class="bi-person-circle bi">
    </i>
    <span>
     登录Bilibili
    </span>
   </div>
   <div>
    <a class="a wbtg" id="minimize" onclick="">
     <i class="bi-dash-lg bi">
     </i>
    </a>
    <a class="max a wbtg" id="maximize" onclick="">
     <i class="bi-app bi">
     </i>
    </a>
    <a class="red a wbtg" id="close" onclick="">
     <i class="bi-x-lg bi">
     </i>
    </a>
   </div>
  </div>
  <div class="loading" style="display: none;">
   <div class="mica" style="align-items: center;">
    <div class="rounded-lg cover">
     <img alt="cover" class="cover-img" src="./img/NB_Music.png">
     </img>
    </div>
   </div>
  </div>
  <div class="hide dialog-bg" id="lyricSearchDialog">
   <div class="shadow-md dialog glass rounded-lg">
    <h2>
     输入歌词搜索关键词
    </h2>
    <div class="dialog-content">
     <div class="input-group">
      <label>
       当前导入歌曲:
      </label>
      <div id="currentSongTitle">
      </div>
     </div>
     <div class="input-group">
      <label for="lyricKeyword">
       搜索关键词:
      </label>
      <input id="lyricKeyword" placeholder="输入关键词搜索歌词" type="text"/>
     </div>
    </div>
    <div class="dialog-footer">
     <button class="rounded dialog-btn-secondary transition-normal dialog-btn" id="skipLyric">
      跳过
     </button>
     <button class="dialog-btn-primary rounded transition-normal dialog-btn" id="confirmLyric">
      确认
     </button>
    </div>
   </div>
  </div>
  <div class="hide dialog-bg" id="importDialog">
   <div class="shadow-md dialog glass rounded-lg">
    <h2>
     从B站收藏夹导入
    </h2>
    <div class="dialog-content">
     <div class="input-group">
      <label for="favLink">
       收藏夹链接或ID:
      </label>
      <input id="favLink" placeholder="输入收藏夹链接或ID" type="text"/>
     </div>
     <div class="input-group">
      <label for="customLyricSearch">
       自定义歌词搜索:
      </label>
      <select id="lyricSearchType">
       <option value="auto">
        使用视频标题自动搜索
       </option>
       <option value="custom">
        手动输入搜索关键词
       </option>
      </select>
     </div>
    </div>
    <div class="dialog-footer">
     <button class="rounded dialog-btn-secondary transition-normal dialog-btn" id="cancelImport">
      取消
     </button>
     <button class="dialog-btn-primary rounded transition-normal dialog-btn" id="confirmImport">
      导入
     </button>
    </div>
   </div>
  </div>
  <div class="hide dialog-bg" id="loginDialog">
   <div class="shadow-md dialog glass rounded-lg">
    <h2>
     扫码登录
    </h2>
    <div class="dialog-content">
     <div class="flex-col qrcode-container gap-4">
      <canvas id="qrcode">
      </canvas>
      <div class="text-center qrcode-status">
       请使用哔哩哔哩客户端扫码登录
      </div>
     </div>
    </div>
    <div class="dialog-footer">
     <button class="rounded dialog-btn-secondary transition-normal dialog-btn" id="refreshQRCode">
      刷新
     </button>
     <button class="dialog-btn-primary rounded transition-normal dialog-btn" id="cancelLogin">
      取消
     </button>
    </div>
   </div>
  </div>
  <div class="mica">
   <div class="theme dk a dock rounded" data-descp="hide">
    <svg class="light" overflow="hidden" viewbox="0,0,307,307" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
     <defs>
      <clippath id="theme-light-clip0">
       <rect height="307" width="307" x="79" y="77">
       </rect>
      </clippath>
      <lineargradient gradientunits="userSpaceOnUse" id="theme-light-fill1" spreadmethod="reflect" x1="128.499" x2="337.501" y1="49.9991" y2="412.001">
       <stop offset="0" stop-color="#FFC567">
       </stop>
       <stop offset="0.18" stop-color="#FFC567">
       </stop>
       <stop offset="0.8" stop-color="#EE54F2">
       </stop>
      </lineargradient>
     </defs>
     <g clip-path="url(#theme-light-clip0)" transform="translate(-79 -77)">
      <path d="M80 231C80 146.5 148.5 78 233 78 317.5 78 386 146.5 386 231 386 315.5 317.5 384 233 384 148.5 384 80 315.5 80 231Z" fill="url(#theme-light-fill1)" fill-rule="evenodd">
      </path>
     </g>
    </svg>
    <svg class="dark" overflow="hidden" viewbox="0,0,275,294" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
     <defs>
      <clippath id="theme-dark-clip0">
       <rect height="294" width="275" x="525" y="230">
       </rect>
      </clippath>
      <lineargradient gradientunits="userSpaceOnUse" id="theme-dark-fill1" spreadmethod="reflect" x1="599.492" x2="725.508" y1="203.887" y2="550.113">
       <stop offset="0" stop-color="#2474B6">
       </stop>
       <stop offset="0.42" stop-color="#2474B6">
       </stop>
       <stop offset="0.98" stop-color="#FFD966">
       </stop>
       <stop offset="1" stop-color="#FFD966">
       </stop>
      </lineargradient>
     </defs>
     <g clip-path="url(#theme-dark-clip0)" transform="translate(-525 -230)">
      <path d="M635.002 236.062C638.664 240.491 639.245 246.694 636.469 251.721 625.869 271.094 620.334 292.809 620.372 314.869 620.372 388.255 680.469 447.679 754.537 447.679 764.199 447.679 773.604 446.675 782.643 444.759 788.307 443.538 794.156 445.809 797.493 450.526 801.036 455.459 800.803 462.148 796.925 466.824 767.803 502.434 724.103 523.073 677.976 523 593.458 523 525 455.217 525 371.701 525 308.846 563.757 254.933 618.942 232.083 624.588 229.708 631.132 231.329 635.002 236.062Z" fill="url(#theme-dark-fill1)" fill-rule="evenodd">
      </path>
     </g>
    </svg>
   </div>
   <div class="sidebar" style="display: flex !important; flex-direction: column; height: 100%;">
    <list class="list flex-col focs" id="function-list">
     <a class="check player" data-page=".player">
      <i class="bi bi-music-player">
      </i>
      播放
     </a>
     <a class="love-list" data-page=".love-list">
      <i class="bi-heart bi">
      </i>
      收藏
     </a>
     <a class="music-list" data-page=".music-list">
      <i class="bi bi-music-note-list">
      </i>
      歌单
     </a>
     <a class="setting" data-page=".setting">
      <i class="bi-gear bi">
      </i>
      设置
     </a>
     <span class="focs" style="top: -55px; left: 0px;">
     </span>
    </list>
    <div class="playing-list" style="display: flex; flex-direction: column; min-height: 0; max-height: 100%;">
     <div class="listname" style="padding: 2px 20px;">
      <div id="listname">
       默认歌单
      </div>
      <div class="controls">
       <div class="playmode transition-normal">
        <i class="bi bi-repeat">
        </i>
       </div>
       <div class="rename">
        <i class="bi bi-pencil-square">
        </i>
       </div>
      </div>
     </div>
     <list class="list flex-col" id="playing-list" style="display: block !important;">
      <div class="rounded song">
       <img alt="Poster image" class="poster"/>
       <div class="name">
       </div>
       <div class="artist">
       </div>
      </div>
     </list>
    </div>
   </div>
   <div class="content">
    <div class="player">
     <div class="flex-col player-content">
      <div class="rounded-lg cover">
       <img alt="cover" class="cover-img" src="./img/NB_Music.png">
       </img>
      </div>
      <div class="text-center info">
       <div class="title">
        歌曲名
       </div>
       <div class="artist">
        歌手
       </div>
      </div>
      <div class="control">
       <div class="flex-between advanced-controls">
        <select class="speed-control">
        </select>
        <button class="rounded flex-center import-btn transition-normal">
         <i class="bi-download bi">
         </i>
        </button>
       </div>
       <div class="progress">
        <div class="progress-bar">
         <div class="progress-bar-inner">
         </div>
        </div>
       </div>
       <div class="buttons flex-center">
        <div class="prev nr" data-action="prev">
         <i class="bi-arrow-left bi">
         </i>
        </div>
        <div class="play played" data-action="play">
         <div class="pause">
          <div class="left">
          </div>
          <div class="right">
          </div>
         </div>
         <div class="play">
          <svg class="bi bi-play-fill" fill="transparent" height="100" viewbox="0 0 16 16" width="90" xmlns="http://www.w3.org/2000/svg">
           <path d="m7.596 5.697-4.363 2.692c-.34.213-.833-.066-.833-.497V2.308c0-.43.492-.71.833-.496l4.363 2.692a.502.502 0 0 1 0 1.193" transform="translate(3,3)">
           </path>
          </svg>
         </div>
        </div>
        <div class="next nr" data-action="next">
         <i class="bi-arrow-right bi">
         </i>
        </div>
       </div>
      </div>
     </div>
     <div id="lyrics-container">
      无歌词
     </div>
    </div>
    <div class="love-list hide">
     <div class="title">
      收藏
     </div>
     <list class="list flex-col" id="lovelist">
     </list>
    </div>
    <div class="music-list hide">
     <div class="title">
      歌单
     </div>
     <div class="music-list-content">
      <div class="playlist-section">
       <div class="flex-between section-header">
        <h2>
         我的歌单
        </h2>
        <button class="rounded flex-center import-btn transition-normal" id="newPlaylist">
         <i class="bi-plus-circle bi">
         </i>
        </button>
        <button class="rounded flex-center import-btn transition-normal" id="importPlaylist">
         <i class="bi-save bi">
         </i>
        </button>
       </div>
       <ul class="list flex-col" id="playlistList">
       </ul>
      </div>
      <div class="song-section">
       <div class="flex-between section-header">
        <h2>
         歌曲列表
        </h2>
        播放歌单后搜索歌曲以添加
       </div>
       <ul class="list flex-col" id="songList">
       </ul>
      </div>
     </div>
    </div>
    <div class="search-result hide">
     <div class="title">
      搜索结果
     </div>
     <list class="list flex-col search">
      <div class="rounded song">
       <img alt="Poster image" class="poster" src="./img/NB_Music.png"/>
       <div class="text-center info">
        <div class="name">
         NB
        </div>
        <div class="artist">
         NB
        </div>
       </div>
       <div class="controls">
        <div class="love" onclick="love()">
         <i class="bi-heart bi">
         </i>
        </div>
        <div class="play" onclick="play()">
         <i class="bi-play-circle bi">
         </i>
        </div>
        <div class="add2list" onclick="add2list()">
         <i class="bi-plus-circle bi">
         </i>
        </div>
       </div>
      </div>
     </list>
    </div>
    <div class="setting hide">
     <div class="title">
      设置
     </div>
     <div class="setting-content">
      <div class="rounded setting-item">
       <div class="setting-info">
        <i class="bi-circle-half bi">
        </i>
        <div class="words">
         <div class="setting-name">
          主题
         </div>
         <div class="setting-descrition">
          选择是否开启深色模式
         </div>
        </div>
       </div>
       <div class="setting-value">
        <nav data-nav-id="nav1">
         <a class="active" data-key="theme" data-value="dark">
          深色
         </a>
         <a data-key="theme" data-value="light">
          浅色
         </a>
         <a data-key="theme" data-value="auto">
          跟随系统
         </a>
        </nav>
       </div>
      </div>
      <div class="rounded setting-item">
       <div class="setting-info">
        <i class="bi-image bi">
        </i>
        <div class="words">
         <div class="setting-name">
          背景
         </div>
         <div class="setting-descrition">
          设置应用程序的背景
         </div>
        </div>
       </div>
       <div class="setting-value">
        <nav data-nav-id="nav2">
         <a class="active" data-key="background" data-value="cover">
          视频封面
         </a>
         <a data-key="background" data-value="video">
          动态视频
         </a>
         <a data-key="background" data-value="none">
          无
         </a>
        </nav>
       </div>
      </div>
      <div class="rounded setting-item">
       <div class="setting-info">
        <i class="bi bi-music-note-list">
        </i>
        <div class="words">
         <div class="setting-name">
          歌词搜索
         </div>
         <div class="setting-descrition">
          设置歌词搜索方式
         </div>
        </div>
       </div>
       <div class="setting-value">
        <nav data-nav-id="nav3">
         <a class="active" data-key="lyricSearchType" data-value="auto">
          自动搜索
         </a>
         <a data-key="lyricSearchType" data-value="custom">
          手动输入
         </a>
        </nav>
       </div>
      </div>
      <div class="rounded setting-item">
       <div class="setting-info">
        <i class="bi-filter bi">
        </i>
        <div class="words">
         <div class="setting-name">
          标题处理
         </div>
         <div class="setting-descrition">
          如何显示歌曲标题(仅作用在侧边栏)
         </div>
        </div>
       </div>
       <div class="setting-value">
        <nav data-nav-id="nav3">
         <a data-key="extractTitle" data-value="on">
          提取关键词
         </a>
         <a class="active" data-key="extractTitle" data-value="off">
          完整显示
         </a>
         <a data-key="extractTitle" data-value="auto">
          直接截断
         </a>
        </nav>
       </div>
      </div>
      <div class="rounded setting-item">
       <div class="setting-info">
        <i class="bi bi-cloud-download">
        </i>
        <div class="words">
         <div class="setting-name">
          缓存设置
         </div>
         <div class="setting-descrition">
          是否开启缓存歌曲与视频
         </div>
        </div>
       </div>
       <div class="setting-value">
        <nav data-nav-id="nav4">
         <a class="active" data-key="cacheEnabled" data-value="true">
          开启缓存
         </a>
         <a data-key="cacheEnabled" data-value="false">
          关闭缓存
         </a>
        </nav>
        <button class="cache-clear-btn" id="clearCache">
         清除缓存
        </button>
       </div>
      </div>
     </div>
    </div>
   </div>
  </div>
 </body>
 <script src="./script.js">
 </script>
</html>
